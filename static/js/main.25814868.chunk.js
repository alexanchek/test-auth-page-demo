(this["webpackJsonpmovie-database-3"]=this["webpackJsonpmovie-database-3"]||[]).push([[0],{143:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(45),i=n.n(r),s=n(0),o=n.n(s),u=n(2),l=n(79),j=n(30),b=n(29),d=n(37),O=n(88),h=n(7),p=["component"],x=function(e){var t=e.component,n=Object(O.a)(e,p),a=Object(b.c)((function(e){return e.auth})).authenticated;return Object(h.jsx)(j.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return a?Object(h.jsx)(j.a,{to:"/contacts"}):Object(h.jsx)(t,Object(d.a)({},e))}}))},f=["component"],m=function(e){var t=e.component,n=Object(O.a)(e,f),a=Object(b.c)((function(e){return e.auth})).authenticated;return Object(h.jsx)(j.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return a?Object(h.jsx)(t,Object(d.a)({},e)):Object(h.jsx)(j.a,{to:"/login"})}}))},v=n(19),g=n(197),y=n(195),w=n(194),S=n(190),k=n(110),C=n.n(k),T=n(201),E=n(200),W=n(104),D=n(199),I="SET_USER",N="SIGN_OUT",_=n(57),A=(n(137),n(145),function(e){return function(t){t({type:"SET_ERROR",payload:e})}}),q=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_LOADING",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=Object(W.a)(),P=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(v.a)(r,2),s=i[0],l=i[1],j=Object(b.b)(),d=Object(b.c)((function(e){return e.auth})).error;Object(a.useEffect)((function(){return function(){d&&j(A(""))}}),[d,j]);return Object(h.jsx)(D.a,{theme:G,children:Object(h.jsx)(E.a,{component:"main",maxWidth:"xs",children:Object(h.jsxs)(S.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)(g.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(h.jsx)(C.a,{})}),Object(h.jsx)(T.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(h.jsxs)(S.a,{component:"form",onSubmit:function(e){var t;e.preventDefault(),d&&j(A("")),j((t={email:n,password:s},function(){var e=Object(u.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(_.a)(),e.next=4,Object(_.c)(a,t.email,t.password);case 4:n({type:I}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),n(A(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},noValidate:!0,sx:{mt:1},children:[Object(h.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return c(e.currentTarget.value)}}),Object(h.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e.currentTarget.value)}}),Object(h.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})})})},F=n(198),R=n(43),z=n(111),B=Object(z.a)({apiKey:"AIzaSyC1dws6l1Sh_jKnBd4MCtyJIlalYuxG_PQ",authDomain:"auth-test-page-21d53.firebaseapp.com",projectId:"auth-test-page-21d53",storageBucket:"auth-test-page-21d53.appspot.com",messagingSenderId:"630546616713",appId:"1:630546616713:web:aeb566f09b845e64c0d158"}),M=Object(R.e)(B),J="GET_CONTACTS",V="ADD_CONTACT",K=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.d)(Object(R.a)(M,"contacts"));case 3:n=e.sent,a=[],n.forEach((function(e){a.push(e.data())})),t({type:J,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},U=n(203),H=n(204),L=n(192),Q=n(205),Y=n.p+"static/media/unknown.568063de.jpg",X=function(e){var t=e.contact,n=Object(a.useState)(!1),c=Object(v.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),l=Object(v.a)(s,2),j=l[0],d=l[1],O=Object(a.useState)(""),p=Object(v.a)(O,2),x=p[0],f=p[1],m=Object(a.useState)(""),g=Object(v.a)(m,2),S=g[0],k=g[1],C=t.name,E=t.email,W=t.phone,D=t.img,I=t.uuid,N=Object(b.b)(),_=function(e){return Object(h.jsx)(L.a,{component:"img",sx:{maxHeight:"250px",maxWidth:"250px"},alt:"".concat(C),src:e})};return Object(h.jsx)(F.a,{item:!0,xs:6,children:Object(h.jsxs)(U.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(h.jsxs)(H.a,{sx:{},children:[_(D||Y),";",r?Object(h.jsx)(w.a,{name:"name",fullWidth:!0,id:"firstName",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",autoFocus:!0,variant:"standard",onChange:function(e){return d(e.currentTarget.value)}}):Object(h.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",children:C}),r?Object(h.jsx)(w.a,{fullWidth:!0,id:"lastName",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",name:"surname",variant:"standard",onChange:function(e){return f(e.currentTarget.value)}}):Object(h.jsxs)(T.a,{children:["E-Mail: ",E]}),r?Object(h.jsx)(w.a,{fullWidth:!0,id:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440",name:"email",variant:"standard",onChange:function(e){return k(e.currentTarget.value)}}):Object(h.jsxs)(T.a,{children:["Phone: ",W]})]}),Object(h.jsxs)(Q.a,{children:[r?Object(h.jsx)(y.a,{size:"small",onClick:function(){i(!r),N(function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(a){var c,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r in n.prev=0,c={},t)t[r]&&("changedName"===r&&(c.name=t[r]),"changedEmail"===r&&(c.email=t[r]),"changedPhone"===r&&(c.phone=t[r]));return i=Object(R.c)(M,"contacts",e),n.next=6,Object(R.g)(i,c);case 6:a(K()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(I,{changedName:j,changedEmail:x,changedPhone:S})),d(""),f(""),k("")},children:"Save"}):Object(h.jsx)(y.a,{size:"small",onClick:function(){i(!r)},children:"Edit"}),Object(h.jsx)(y.a,{size:"small",onClick:function(){N(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(R.b)(Object(R.c)(M,"contacts",e));case 3:n(K()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(I))},children:"Delete"})]})]})})},Z=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.contacts})).data;return Object(a.useEffect)((function(){e(K())}),[e]),Object(h.jsx)(E.a,{sx:{py:8},maxWidth:"md",children:Object(h.jsxs)(F.a,{children:[Object(h.jsxs)(T.a,{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432 \u043d\u0430\u0439\u0434\u0435\u043d\u043e: ",null===t||void 0===t?void 0:t.length]}),Object(h.jsx)(F.a,{container:!0,spacing:2,children:null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(X,{contact:e},e.uuid)}))})]})})},$=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(v.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(""),O=Object(v.a)(j,2),p=O[0],x=O[1],f=Object(b.b)();return Object(h.jsxs)(S.a,{component:"form",onSubmit:function(e){e.preventDefault();var t;f((t={uuid:"",name:n,email:s,phone:p,img:""},function(){var e=Object(u.a)(o.a.mark((function e(n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.c)(Object(R.a)(M,"contacts"));case 3:return a=e.sent,c=a.id,r=Object(d.a)(Object(d.a)({},t),{},{uuid:c}),e.next=8,Object(R.f)(a,r);case 8:n(K()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),e.currentTarget.reset()},noValidate:!0,sx:{mt:3},children:[Object(h.jsxs)(F.a,{container:!0,spacing:2,children:[Object(h.jsx)(F.a,{item:!0,xs:6,children:Object(h.jsx)(w.a,{name:"name",required:!0,fullWidth:!0,id:"fname",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",autoFocus:!0,onChange:function(e){return c(e.currentTarget.value)}})}),Object(h.jsx)(F.a,{item:!0,xs:6,children:Object(h.jsx)(w.a,{required:!0,fullWidth:!0,id:"lastName",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"surname"})}),Object(h.jsx)(F.a,{item:!0,xs:6,children:Object(h.jsx)(w.a,{required:!0,fullWidth:!0,id:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",name:"email",onChange:function(e){return l(e.currentTarget.value)}})}),Object(h.jsx)(F.a,{item:!0,xs:6,children:Object(h.jsx)(w.a,{required:!0,fullWidth:!0,id:"phone",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"phone",onChange:function(e){return x(e.currentTarget.value)}})})]}),Object(h.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},ee=n(206),te=n(207),ne=function(){var e=Object(b.b)();return Object(h.jsx)("div",{children:Object(h.jsx)(S.a,{sx:{flexGrow:1},children:Object(h.jsx)(ee.a,{position:"static",children:Object(h.jsxs)(te.a,{children:[Object(h.jsx)(T.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Personal notebook \ud83d\udcd4 / All you need is Contacts \u270f"}),Object(h.jsx)(y.a,{color:"inherit",onClick:function(){e(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(_.a)(),e.next=4,Object(_.d)(n);case 4:t({type:N}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:"\u0412\u044b\u0439\u0442\u0438"})]})})})})},ae=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)($,{}),Object(h.jsx)(Z,{})]})},ce=n(208),re=n(193),ie=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth})).loading;return Object(a.useEffect)((function(){e(q(!0));var t=Object(_.a)(),n=Object(_.b)(t,function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e(q(!0)),e(q(!1));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){n()}}),[e]),t?Object(h.jsx)(ce.a,{color:"secondary"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(re.a,{}),Object(h.jsx)(j.d,{children:Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(S.a,{sx:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)(x,{component:P,exact:!0,path:"/login"}),Object(h.jsx)(m,{component:ae,exact:!0,path:"/"}),Object(h.jsx)(m,{component:ae,exact:!0,path:"/contacts"})]})})})})]})})},se=n(75),oe=n(112),ue=n(113),le={user:null,authenticated:!1,loading:!1,error:"",needVerification:!1,success:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{user:null,authenticated:!1,loading:!1});case I:return Object(d.a)(Object(d.a)({},e),{},{authenticated:!0});default:return e}},be={data:null},de={contact:null},Oe=Object(se.combineReducers)({auth:je,contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;return t.type===J?{data:t.payload}:e},contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;return t.type===V?{contact:t.payload}:e}}),he=Object(se.createStore)(Oe,Object(oe.composeWithDevTools)(Object(se.applyMiddleware)(ue.a)));i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(b.a,{store:he,children:Object(h.jsx)(ie,{})})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.25814868.chunk.js.map